{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import { Link } from \"react-router-dom\";\n// import \"../../assets/styles/MainPage.css\";\n// import axios from \"axios\";\n\n// function MainPage() {\n//   const [users, setUsers] = useState([]);\n//   useEffect(() => {\n//     fetchData();\n//   }, []);\n\n//   const [msg, setMsg] = useState(\"\");\n\n//   const fetchData = () => {\n//     axios\n//       .get(\"/users\")\n//       .then((res) => {\n//         setUsers(res.data);\n//         console.log(res.data); // Data from API\n//       })\n//       .catch((error) => {\n//         console.error(\"Error:\", error);\n//       });\n//   };\n\n//   const handleDelete = (post) => {\n//     if (window.confirm(`Are you sure you want to delete post: ${post.name}`)) {\n//       axios\n//         .delete(`/users/${post.email}`)\n//         .then((res) => {\n//           console.log(\"Post deleted:\", res.data); // Article deleted\n//           // After deletion, update the list of articles\n//           setUsers(users.filter((user) => user.id !== post.id));\n//           setMsg(\"user was deleted\");\n//           // Clear the message after 1 second\n//           setTimeout(() => {\n//             setMsg(\"\"); // Clear the message after 1 second\n//           }, 2000); // 1000 ms = 1 second\n//         })\n//         .catch((error) => {\n//           console.error(\"Error:\", error);\n//         });\n//     }\n//   };\n//   return (\n//     <div className=\"main\">\n//       <section className=\"articles\">\n//         <div className=\"container\">\n//           <h1 className=\"main-page-title\">Users</h1>\n//           <div className=\"msg\">{msg}</div>\n\n//           <div className=\"articles-container\">\n//             {users &&\n//               users.map((user) => (\n//                 <div key={user.id} className=\"article-card\">\n//                   <h2 className=\"article-title\">{user.name}</h2>\n//                   <div className=\"d-flex g-1\">\n//                     <Link to={`/post/${user.id}`} className=\"view-button\">\n//                       View\n//                     </Link>\n//                     <button\n//                       className=\"view-button mt1\"\n//                       onClick={() => handleDelete(user)}\n//                     >\n//                       Delete\n//                     </button>\n//                   </div>\n//                 </div>\n//               ))}\n//           </div>\n//         </div>\n//       </section>\n//     </div>\n//   );\n// }\n\n// export default MainPage;","map":{"version":3,"names":[],"sources":["C:/Users/Aliha/OneDrive/Desktop/פרויקט גמר/mySite/ReactArticles/src/components/mainPage/MainPage.jsx"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\r\n// import { Link } from \"react-router-dom\";\r\n// import \"../../assets/styles/MainPage.css\";\r\n// import axios from \"axios\";\r\n\r\n// function MainPage() {\r\n//   const [users, setUsers] = useState([]);\r\n//   useEffect(() => {\r\n//     fetchData();\r\n//   }, []);\r\n\r\n//   const [msg, setMsg] = useState(\"\");\r\n\r\n//   const fetchData = () => {\r\n//     axios\r\n//       .get(\"/users\")\r\n//       .then((res) => {\r\n//         setUsers(res.data);\r\n//         console.log(res.data); // Data from API\r\n//       })\r\n//       .catch((error) => {\r\n//         console.error(\"Error:\", error);\r\n//       });\r\n//   };\r\n\r\n//   const handleDelete = (post) => {\r\n//     if (window.confirm(`Are you sure you want to delete post: ${post.name}`)) {\r\n//       axios\r\n//         .delete(`/users/${post.email}`)\r\n//         .then((res) => {\r\n//           console.log(\"Post deleted:\", res.data); // Article deleted\r\n//           // After deletion, update the list of articles\r\n//           setUsers(users.filter((user) => user.id !== post.id));\r\n//           setMsg(\"user was deleted\");\r\n//           // Clear the message after 1 second\r\n//           setTimeout(() => {\r\n//             setMsg(\"\"); // Clear the message after 1 second\r\n//           }, 2000); // 1000 ms = 1 second\r\n//         })\r\n//         .catch((error) => {\r\n//           console.error(\"Error:\", error);\r\n//         });\r\n//     }\r\n//   };\r\n//   return (\r\n//     <div className=\"main\">\r\n//       <section className=\"articles\">\r\n//         <div className=\"container\">\r\n//           <h1 className=\"main-page-title\">Users</h1>\r\n//           <div className=\"msg\">{msg}</div>\r\n\r\n//           <div className=\"articles-container\">\r\n//             {users &&\r\n//               users.map((user) => (\r\n//                 <div key={user.id} className=\"article-card\">\r\n//                   <h2 className=\"article-title\">{user.name}</h2>\r\n//                   <div className=\"d-flex g-1\">\r\n//                     <Link to={`/post/${user.id}`} className=\"view-button\">\r\n//                       View\r\n//                     </Link>\r\n//                     <button\r\n//                       className=\"view-button mt1\"\r\n//                       onClick={() => handleDelete(user)}\r\n//                     >\r\n//                       Delete\r\n//                     </button>\r\n//                   </div>\r\n//                 </div>\r\n//               ))}\r\n//           </div>\r\n//         </div>\r\n//       </section>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default MainPage;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}